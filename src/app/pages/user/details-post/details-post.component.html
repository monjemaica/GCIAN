<!-- --------------------------------------HOME SECTION--------------------------------------------- -->
<ng-container *ngIf="post">
  <section class="home-section">
    <nav class="navbar navbar-light bg-light">
      <span class="label"
        ><a [routerLink]="['/']">
          <i class="bx bx-left-arrow-alt" style="font-size: 22px; margin-right: 7px;"></i> </a
        >Comment</span
      >
    </nav>

    <div class="post-card" fxLayoutAlign="center start" fxFlexFill>
      <div class="card" fxFlex="96.5" style="margin-top: 5%">
        <div class="row">
          <div class="col-sm-1">
            <div class="card-body">
              <div class="avatar">
                <!-- <img class="avatar22" src="{{ post[0].avatar_fld }}" alt="" /> -->
                <!-- balik mo nalang to jem para lang makita mo itsura pag may image -->
                <img
                  class="avatarIcon"
                  src="https://www.pinkvilla.com/imageresize/ius-agency-confirms-her-comeback.jpg?width=752&format=webp&t=pvorg"
                  alt=""
                />
              </div>
            </div>
          </div>
          <div class="col-sm-3">
            <div class="card-body post-card-details">
              <p class="card-title">
                {{ post[0].fname_fld }} {{ post[0].mname_fld }}
                {{ post[0].lname_fld }}
              </p>

              <p class="card-subtitle1">
                {{ post[0].program_fld }}
              </p>
            </div>
          </div>
        </div>
        <div class="card-content">
          <p>
            {{ post[0].content_fld }}
          </p>
        </div>

        <div class="col-sm-3">
          <p class="card-subtitle">
            {{ post[0].date_created_TS_fld | date: "short" }}
          </p>
        </div>

        <mat-divider class="divider"></mat-divider>

        <ng-container *ngFor="let c of comments">
          <div class="margin-comments">
            <div class="post-card mat-elevation-z0">
              <mat-card fxFlex="99">
                <mat-card-header style="display: flex">
                  <div mat-card-avatar>
                    <img
                      class="avatarIcon"
                      src="http://localhost:5000/uploads/{{ c.avatar_fld }}"
                      alt=""
                    />
                  </div>
                  <div>
                    <mat-card-title style="font-size: 17px;">
                      {{ c.fname_fld }} {{ c.mname_fld }} {{ c.lname_fld }}
                    </mat-card-title>
                    <mat-card-subtitle style="margin-top: -10%;">
                      {{ c.program_fld }} |
                      {{ c.date_created_TS_fld | date: "short" }}
                    </mat-card-subtitle>
                  </div>
                  <div *ngIf="student" style="margin-top: -.8%; margin-left: 85%;">
                    <ng-container *ngIf="student.studid_fld == c.studid_fld">
                      <mat-card-actions
                        class="posts_btn-container"
                      >
                        <button
                          class="posts_btn"
                          mat-icon-button
                          [matMenuTriggerFor]="option"
                        >
                          <i class="bx bx-dots-horizontal-rounded"></i>
                        </button>
                        <mat-menu #option="matMenu">
                          <button
                            mat-menu-item
                            (click)="editComment(c.comment_uid)"
                          >
                            <i style="margin-right: 8%" class="bx bx-edit"></i
                            >Edit
                          </button>
                          <mat-divider
                            style="width: 90%; margin-left: 5%"
                            class="posts_mat-divider"
                          ></mat-divider>
                          <button
                            mat-menu-item
                            (click)="deleteComment(c.comment_uid)"
                          >
                            <i style="margin-right: 8%" class="bx bx-trash"></i
                            >Delete
                          </button>
                        </mat-menu>
                      </mat-card-actions>
                    </ng-container>
                  </div>
                </mat-card-header>

                <mat-card-content>
                  <p>{{ c.content_fld }}</p>
                </mat-card-content>
              </mat-card>
            </div>
          </div>
        </ng-container>

        <div class="row" style="margin-top: -10px">
          <div class="col-12">
            <div class="card-body">
              <form
                ngNativeValidate
                action="posts/{{ post[0].post_uid }}/comments"
                method="post"
                (submit)="doComment($event)"
              >
                <div class="comment-panel">
                  <div class="avatar">
                    <!-- dito naman jem, lagay mo yung avatar nung may ari ng account na to para kita na sya yung magcocomment -->
                    <img
                      class="replyIcon"
                      src="https://1739752386.rsc.cdn77.org/data/images/full/236819/confirmed-lee-seung-gis-agency-declared-that-the-malicious-commenter-was-heavily-charged.jpg"
                      alt=""
                    />
                  </div>
                  <mat-form-field appearance="fill" style="width: 95%">
                    <input
                      matInput
                      #message
                      maxlength="256"
                      placeholder="Write a comment..."
                      id="content"
                      name="content"
                      required
                      style="width: 100%"
                    />
                  </mat-form-field>
                  <div mat-card-actions class="actions">
                    <button mat-button class="btnSave" type="submit">
                      <i
                        class="bx bx-paper-plane"
                        style="font-size: 20px; margin-top: 40px"
                      ></i>
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</ng-container>
